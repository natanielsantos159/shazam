{"version":3,"sources":["reportWebVitals.js","context/AppContext.js","context/Provider.js","context/HistoryContext.js","context/HistoryProvider.js","components/Header.js","App.js","images/youtube.png","images/spotify.svg","images/deezer.png","images/itunes.png","components/IdentifiedSongCard.js","images/music.png","pages/HistoryPage.js","services/identifySongApi.js","services/iTunesSearchApi.js","components/RecordButton.js","images/microphone2.png","components/MicVisualizer.js","pages/IdentifyPage.js","routes/index.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","AppContext","createContext","Provider","children","useState","isRecording","setIsRecording","identifiedSong","setIdentifiedSong","count","setCount","identified","setIdentified","itunesUrl","setItunesUrl","stream","setStream","identifying","setIdentifying","undefined","contextValues","status","setStatus","value","HistoryContext","HistoryProvider","JSON","parse","localStorage","getItem","history","setHistory","useEffect","saveInLocalStorage","setItem","stringify","addSongToHistory","songInfo","identifiedId","length","newHistory","removeSongToHistory","copyHistory","index","findIndex","song","filtered","splice","Header","to","App","navigate","useNavigate","className","IdentifiedSongCard","title","artist","album","artwork","src","alt","href","encodeURI","target","rel","youtubeIcon","spotifyIcon","deezerIcon","itunesIcon","HistoryPage","identifiedSongMock","genre","release_year","h","map","i","identifySong","file","a","form","FormData","append","fetch","method","headers","process","body","response","json","iTunesSearchApi","replaceAll","getAlbumsAPI","APIResponse","results","find","trackName","artistName","collectionName","toLowerCase","artworkUrl100","trackViewUrl","replace","trackUrl","console","error","Mp3Recorder","MicRecorder","bitRate","RecordButton","useContext","timer","setInterval","stopRecording","clearInterval","recognizeSong","data","indentifiedBool","stop","getMp3","blob","File","type","track","activeStream","getTracks","removeTrack","catch","e","log","onClick","navigator","mediaDevices","getUserMedia","constraints","webkitGetUserMedia","mozGetUserMedia","Promise","resolve","reject","call","Error","audio","video","start","err","message","MicVisualizer","recording","useRef","connectStream","audioContext","window","AudioContext","webkitAudioContext","analyser","createAnalyser","createMediaStreamSource","connect","smoothingTimeConstant","fftSize","frequencyData","Uint8Array","frequencyBinCount","requestAnimationFrame","renderFrame","getByteFrequencyData","processFrame","current","initRenderLoop","values","Object","dataMapIndex","linesElements","document","querySelectorAll","style","transform","opacity","Math","max","Array","fill","_current","IdentifyPage","Router","useRoutes","path","element","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"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","file":"static/js/main.093aef07.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {createContext } from 'react';\n\nconst AppContext = createContext();\n\nexport default AppContext;","import PropTypes from \"prop-types\";\nimport React, { useState } from \"react\";\nimport AppContext from \"./AppContext\";\n\nexport default function Provider({ children }) {\n  // const identifiedSongMock = {\n  //   album: \"Midnight Room\",\n  //   artist: \"Springtime Carnivore\",\n  //   genre: \"Alternative\",\n  //   release_year: \"2016\",\n  //   title: \"Bad Dream Baby\",\n  //   artwork: \"https://i.scdn.co/image/ab67616d0000b2733525ba2609c82b320a811ce9\",\n  // };\n\n  const [isRecording, setIsRecording] = useState(false);\n  const [identifiedSong, setIdentifiedSong] = useState();\n  const [count, setCount] = useState(0);\n  const [identified, setIdentified] = useState();\n  const [itunesUrl, setItunesUrl] = useState();\n  const [stream, setStream] = useState();\n  const [identifying, setIdentifying] = useState(false);\n  const [status, setStatus] = useState(undefined);\n\n  const contextValues = {\n    isRecording,\n    setIsRecording,\n    identifiedSong,\n    setIdentifiedSong,\n    count,\n    setCount,\n    identified,\n    setIdentified,\n    itunesUrl,\n    setItunesUrl,\n    stream,\n    setStream,\n    identifying,\n    setIdentifying,\n    status,\n    setStatus,\n  };\n  return (\n    <AppContext.Provider value={contextValues}>{children}</AppContext.Provider>\n  );\n}\n\nProvider.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n  ]).isRequired,\n};\n","import {createContext } from 'react';\n\nconst HistoryContext = createContext();\n\nexport default HistoryContext;","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport HistoryContext from \"./HistoryContext\";\n\nexport default function HistoryProvider({ children }) {\n  const [history, setHistory] = useState(JSON.parse(localStorage.getItem(\"history\")) || []);\n\n  useEffect(() => {\n    saveInLocalStorage(history);\n  }, [history]);\n\n  const saveInLocalStorage = () => {\n    localStorage.setItem(\"history\", JSON.stringify(history));\n  }\n\n  const addSongToHistory = (songInfo) => {\n    const identifiedId = history.length \n      ? history[history.length - 1].identifiedId + 1\n      : 1;\n\n    songInfo.identifiedId = identifiedId;\n    const newHistory = [songInfo, ...history];\n    setHistory(newHistory);\n  };\n\n  const removeSongToHistory = (songInfo) => {\n    const copyHistory = [...history];\n    const index = copyHistory.findIndex((song) => song.identifiedId === songInfo.identifiedId);\n    const filtered = copyHistory.splice(index, 1);\n    setHistory(filtered);\n  };\n\n  const contextValues = {\n    history,\n    setHistory,\n    addSongToHistory,\n    removeSongToHistory,\n  };\n\n  return (\n    <HistoryContext.Provider value={ contextValues }>\n      { children }\n    </HistoryContext.Provider>\n  );\n}\n\nHistoryProvider.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n  ]).isRequired,\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"../styles/Header.css\";\n\nexport default function Header() {\n  return (\n    <header>\n      <Link to=\"identify\">identificar</Link>\n      <Link to=\"history\">histórico</Link>\n    </header>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport { Outlet, useNavigate } from \"react-router-dom\";\nimport Header from \"./components/Header\";\nimport \"./App.css\";\n\n\nfunction App() {\n  const navigate = useNavigate();\n\n  useEffect(() => navigate('/identify'), []);\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <Outlet />\n    </div>\n  );\n}\n\nexport default App;\n","export default __webpack_public_path__ + \"static/media/youtube.6f9e32ba.png\";","export default __webpack_public_path__ + \"static/media/spotify.21035c55.svg\";","export default __webpack_public_path__ + \"static/media/deezer.b3776bfe.png\";","export default __webpack_public_path__ + \"static/media/itunes.7a2157ca.png\";","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport youtubeIcon from \"../images/youtube.png\";\nimport spotifyIcon from \"../images/spotify.svg\";\nimport deezerIcon from \"../images/deezer.png\";\nimport musicIcon from \"../images/music.png\";\nimport itunesIcon from \"../images/itunes.png\";\nimport \"../styles/IdentifiedSongCard.css\";\n\nexport default function IdentifiedSongCard({ songInfo }) {\n  const { title, artist, album, artwork, itunesUrl } = songInfo;\n  return (\n    <div className=\"identified-song\">\n      <img\n        className=\"song-artwork\"\n        src={artwork || musicIcon}\n        alt=\"Capa do álbum\"\n      />\n      <div className=\"song-info-wrapper\">\n        <h2 className=\"song-title\">{title}</h2>\n        <p className=\"song-artist\">{artist}</p>\n        <p className=\"song-album\">{album}</p>\n      </div>\n      <div className=\"links-container\">\n        <h3>Escute em: </h3>\n        <a\n          href={`https://www.youtube.com/results?search_query=${encodeURI(\n            `${artist} ${title}`\n          )}`}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <img src={youtubeIcon} alt=\"Youtube\" />\n        </a>\n        <a\n          href={`https://open.spotify.com/search/${encodeURI(\n            `${artist} ${title}`\n          )}`}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <img src={spotifyIcon} alt=\"Spotify\" />\n        </a>\n        <a\n          href={`https://www.deezer.com/search/${encodeURI(\n            `${artist} ${title}`\n          )}`}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <img src={deezerIcon} alt=\"deezer\" />\n        </a>\n        <a\n          href={\n            itunesUrl ||\n            `https://music.apple.com/us/search?term=${encodeURI(\n              `${artist} ${title}`\n            )}`\n          }\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <img src={itunesIcon} alt=\"itunes\" />\n        </a>\n      </div>\n    </div>\n  );\n}\n\nIdentifiedSongCard.propTypes = {\n  songInfo: PropTypes.shape({\n    album: PropTypes.string,\n    artist: PropTypes.string,\n    artwork: PropTypes.string,\n    title: PropTypes.string,\n    itunesUrl: PropTypes.string,\n  }).isRequired,\n};\n","export default \"data:image/png;base64,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\"","import React from \"react\";\nimport IdentifiedSongCard from \"../components/IdentifiedSongCard\";\n// import HistoryContext from \"../context/HistoryContext\";\nimport \"../styles/HistoryPage.css\";\n\nexport default function HistoryPage() {\n  // const { history } = useContext(HistoryContext);\n\n   const identifiedSongMock = {\n    album: \"Midnight Room\",\n    artist: \"Springtime Carnivore\",\n    genre: \"Alternative\",\n    release_year: \"2016\",\n    title: \"Bad Dream Baby\",\n    artwork: \"https://i.scdn.co/image/ab67616d0000b2733525ba2609c82b320a811ce9\",\n  };\n  const h = [identifiedSongMock, identifiedSongMock, identifiedSongMock]\n  return (\n    <main className=\"history-page\">\n      <div className=\"identified-songs\">\n        {h.map((songInfo, i) => (\n          <IdentifiedSongCard key={i} songInfo={songInfo} />\n        ))}\n      </div>\n    </main>\n  );\n}\n","\nconst identifySong = async (file) => {\n  const form = new FormData();\n  form.append(\"file\", file, \"file.mp3\");\n\n  const response = await fetch(\"https://music-identify.p.rapidapi.com/identify\", {\n    method: \"POST\",\n    headers: {\n      \"x-rapidapi-host\": \"music-identify.p.rapidapi.com\",\n      \"x-rapidapi-key\": process.env.REACT_APP_APIKEY,\n    },\n    body: form,\n  })\n  const json = await response.json();\n  return json;\n};\n\nexport default identifySong;","const iTunesSearchApi = async ({ album, artist, title }) => {\n  const song = encodeURI(`${title} ${artist} ${album}`).replaceAll(\"%20\", \"+\");\n\n  const getAlbumsAPI = `https://itunes.apple.com/search?term=${song}&types=songs&limit=6`;\n\n  try {\n    const APIResponse = await fetch(getAlbumsAPI);\n  \n    const { results } = await APIResponse.json();\n\n    const { artworkUrl100, trackViewUrl } =\n      results.find(({ trackName, artistName, collectionName }) => {\n        return (\n          artistName.toLowerCase() === artist.toLowerCase() &&\n          collectionName.toLowerCase() === album.toLowerCase() &&\n          trackName.toLowerCase() === title.toLowerCase()\n        );\n      }) || results[0] || {};\n\n    if (artworkUrl100) return {\n      artwork: artworkUrl100.replace('100x100', '300x300'),\n      trackUrl: trackViewUrl\n    };\n    return {};\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nexport default iTunesSearchApi;\n","import React, { useContext, useEffect } from \"react\";\nimport AppContext from \"../context/AppContext\";\nimport microphoneIcon from \"../images/microphone2.png\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport identifySong from \"../services/identifySongApi\";\nimport iTunesSearchApi from \"../services/iTunesSearchApi\";\nimport '../styles/RecordButton.css';\nimport HistoryContext from \"../context/HistoryContext\";\n\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\n\nexport default function RecordButton() {\n  const {\n    isRecording, \n    setIsRecording,\n    setIdentifiedSong,\n    setIdentified,\n    setItunesUrl,\n    setIdentifying,\n    setStream,\n    setCount,\n    count,\n    setStatus,\n  } = useContext(AppContext);\n  const { addSongToHistory } = useContext(HistoryContext);\n\n  useEffect(() => {\n    let timer;\n    if (isRecording && count < 10) {\n      timer = setInterval(() => {\n        setCount(count + 1);\n      }, 1000);\n    }\n    if (isRecording && count >= 10) stopRecording();\n    return () => clearInterval(timer);\n  }, [count]);\n\n  const recognizeSong = async (file) => {\n    setIdentifying(true);\n    setStatus(\"Identificando...\");\n    const { data, identified: indentifiedBool } = await identifySong(file);\n    setIdentified(indentifiedBool);\n\n    if (indentifiedBool) {\n      setStatus(undefined);\n      setIdentifying(false);\n      setIdentifiedSong(data);\n      const { artwork, trackUrl: itunesUrl } = await iTunesSearchApi(data);\n      if (!data.artwork) setIdentifiedSong({ ...data, artwork });\n      setItunesUrl(itunesUrl);\n      addSongToHistory({ \n        ...data,\n        itunesUrl,\n        artwork: artwork || data.artwork,\n      });\n    }\n\n    if (!indentifiedBool) setStatus(\"Não foi possível identificar a música\");\n  };\n\n  const startRecording = () => {\n    const onSuccessFn = () => {\n      Mp3Recorder.start()\n        .then((stream) => {\n          setIdentified(undefined)\n          setStream(stream);\n          setIsRecording(true);\n          setStatus(\"Gravando...\");\n          setCount(1);\n        })\n        .catch((err) => setStatus(err.message));\n    };\n\n    if (navigator.mediaDevices === undefined) {\n      navigator.mediaDevices = {};\n    }\n\n    if (navigator.mediaDevices.getUserMedia === undefined) {\n      navigator.mediaDevices.getUserMedia = function(constraints) {\n        let getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n  \n        if (!getUserMedia) {\n          setStatus(\"getUserMedia is not implemented in this browser\")\n          return Promise.reject(new Error('getUserMedia is not implemented in this browser'));\n        }\n    \n        return new Promise(function(resolve, reject) {\n          getUserMedia.call(navigator, constraints, resolve, reject);\n        });\n      }\n    }\n  \n    navigator.mediaDevices.getUserMedia({ audio: true, video: false })\n      .then(onSuccessFn)\n      .catch((err) => setStatus(err.message));\n\n  };\n\n  const stopRecording = () => {\n    setIsRecording(false);\n    Mp3Recorder.stop()\n      .getMp3()\n      .then(([ , blob]) => {\n        const file = new File([blob], \"file.mp3\", {\n          type: blob.type,\n        });\n        if (file) recognizeSong(file);\n        const track = Mp3Recorder.activeStream.getTracks()[0];\n        track.stop();\n        Mp3Recorder.activeStream.removeTrack(track);\n      })\n      .catch((e) => console.log(e));\n  };\n\n  return (\n    <button\n      type=\"button\"\n      onClick={isRecording ? stopRecording : startRecording}\n      className={`record-button ${isRecording ? 'is-recording': ''}`}\n    >\n      <div className=\"card__content\">\n        <img src={microphoneIcon} alt=\"Identificar\" />\n      </div>\n      <div className=\"blob\"></div>\n      <div className=\"blob\"></div>\n      <div className=\"blob\"></div>\n    </button>\n  );\n}\n","export default \"data:image/png;base64,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\"","/* eslint-disable no-unused-vars */\nimport PropTypes from \"prop-types\"\nimport { useEffect, useContext, useRef } from \"react\";\nimport AppContext from \"../context/AppContext\";\nimport \"../styles/MicVizualizer.css\";\n\nexport default function MicVisualizer({ stream }) {\n  const { isRecording } = useContext(AppContext);\n  const recording = useRef(isRecording);\n\n  const initRenderLoop = (analyser) => {\n    const frequencyData = new Uint8Array(analyser.frequencyBinCount);\n    const renderFrame = () => {\n      analyser.getByteFrequencyData(frequencyData);\n      processFrame(frequencyData);\n      if (recording.current) requestAnimationFrame(renderFrame);\n    };\n    requestAnimationFrame(renderFrame);\n  };\n\n  const connectStream = (stream) => {\n    const AudioContext = window.AudioContext || window.webkitAudioContext;\n    const audioContext = new AudioContext();\n    const analyser = audioContext.createAnalyser();\n    const source = audioContext.createMediaStreamSource(stream);\n    source.connect(analyser);\n    analyser.smoothingTimeConstant = 0.65;\n    analyser.fftSize = 64;\n    initRenderLoop(analyser);\n  };\n\n  useEffect(() => {\n    if (isRecording) {\n      connectStream(stream);\n\n      recording.current = true;\n    } else {\n      recording.current = false;\n    }\n  }, [isRecording]);\n\n  const processFrame = (data) => {\n    const values = Object.values(data);\n    const dataMapIndex = {\n      0:31,\n      1:29,\n      2:27,\n      3:25,\n      4:23,\n      5:21,\n      6:19,\n      7:17,\n      8:15,\n      9:13,\n      10:11,\n      11:9,\n      12:7,\n      13:5,\n      14:3,\n      15:1,\n      16:0,\n      17:2,\n      18:4,\n      19:6,\n      20:8,\n      21:10,\n      22:12,\n      23:14,\n      24:16,\n      25:18,\n      26:20,\n      27:22,\n      28:24,\n      29:26,\n      30:28,\n      31:30,\n    };\n    const linesElements = document.querySelectorAll(\".line\");\n    for (let i = 0; i < 32; ++i) {\n      const value = values[dataMapIndex[i]] / 160;\n      linesElements[i].style.transform = `scaleY( ${value} )`;\n      linesElements[i].style.opacity = Math.max(0.25, value);\n    }\n  };\n\n  return (\n    <div className=\"vizualizer\">\n      {new Array(32).fill().map((_current, i) => (\n        <div key={i} className={`line ${isRecording ? 'isRecording' : ''}`}></div>\n      ))}\n    </div>\n  );\n}\n\nMicVisualizer.propTypes = {\n  stream: PropTypes.object\n}\n","import React, { useContext } from \"react\";\nimport AppContext from \"../context/AppContext\";\n\nimport RecordButton from \"../components/RecordButton\";\nimport IdentifiedSongCard from \"../components/IdentifiedSongCard\";\nimport MicVisualizer from \"../components/MicVisualizer\";\n\nexport default function IdentifyPage() {\n  const {\n    identifiedSong,\n    identified,\n    stream,\n    status,\n  } = useContext(AppContext);\n\n  return (\n    <>\n      <div\n        className={`microphone-container ${\n          identified && identifiedSong ? \"identified\" : \"\"\n        }`}\n      >\n        <RecordButton />\n        <MicVisualizer stream={stream} />\n        <div className=\"status\">{status && status}</div>\n      </div>\n      {identified && identifiedSong && <IdentifiedSongCard songInfo={identifiedSong} />}\n    </>\n  );\n}\n","import React from \"react\";\nimport { useRoutes } from 'react-router-dom'\nimport App from '../App';\nimport HistoryPage from '../pages/HistoryPage';\nimport IdentifyPage from '../pages/IdentifyPage';\n\nexport default function Router() {\n  return useRoutes([\n    {\n      path: '/', \n      element: <App />,\n      children: [\n        { path: '/identify', element: <IdentifyPage /> },\n        { path: '/history', element: <HistoryPage /> },\n      ]\n    }\n  ]);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport Provider from \"./context/Provider\";\nimport HistoryProvider from \"./context/HistoryProvider\";\nimport Router from \"./routes\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider>\n      <HistoryProvider>\n        <BrowserRouter basename=\"/songidentifier\">\n          <Router />\n        </BrowserRouter>\n      </HistoryProvider>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}