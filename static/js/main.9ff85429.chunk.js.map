{"version":3,"sources":["services/identifySongApi.js","services/iTunesSearchApi.js","context/AppContext.js","components/RecordButton.js","images/microphone2.png","components/IdentifiedSongCard.js","components/MicVisualizer.js","App.js","reportWebVitals.js","context/Provider.js","index.js"],"names":["identifySong","file","a","form","FormData","append","fetch","method","headers","process","body","response","json","iTunesSearchApi","album","artist","title","song","encodeURI","replaceAll","getAlbumsAPI","APIResponse","results","find","trackName","artistName","collectionName","toLowerCase","artworkUrl100","replace","AppContext","createContext","RecordButton","stopRecording","startRecording","isRecording","useContext","type","onClick","className","src","alt","class","IdentifiedSongCard","identifiedSong","artwork","MicVisualizer","stream","recording","useRef","connectStream","audioContext","AudioContext","analyser","createAnalyser","createMediaStreamSource","connect","smoothingTimeConstant","fftSize","frequencyData","Uint8Array","frequencyBinCount","requestAnimationFrame","renderFrame","getByteFrequencyData","processFrame","current","initRenderLoop","useEffect","data","values","Object","dataMapIndex","linesElements","document","querySelectorAll","i","value","style","transform","opacity","Math","max","Array","fill","map","Mp3Recorder","MicRecorder","bitRate","App","setIsRecording","setIdentifiedSong","count","setCount","identified","setIdentified","useState","setStream","recognizeSong","indentifiedBool","timer","setInterval","clearInterval","stop","getMp3","then","blob","File","track","activeStream","getTracks","removeTrack","catch","e","console","log","navigator","mediaDevices","getUserMedia","audio","video","start","error","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Provider","children","contextValues","ReactDOM","render","StrictMode","getElementById"],"mappings":"6TACMA,EAAY,uCAAG,WAAOC,GAAP,mBAAAC,EAAA,6DACbC,EAAO,IAAIC,UACZC,OAAO,OAAQJ,EAAM,YAFP,SAIIK,MAAM,iDAAkD,CAC7EC,OAAQ,OACRC,QAAS,CACP,kBAAmB,gCACnB,iBAAkBC,sDAEpBC,KAAMP,IAVW,cAIbQ,EAJa,gBAYAA,EAASC,OAZT,cAYbA,EAZa,yBAaZA,GAbY,2CAAH,sDAgBHZ,ICjBTa,EAAe,uCAAG,+CAAAX,EAAA,6DAASY,EAAT,EAASA,MAAOC,EAAhB,EAAgBA,OAAQC,EAAxB,EAAwBA,MACxCC,EAAOC,UAAU,GAAD,OAAIF,EAAJ,YAAaD,EAAb,YAAuBD,IAASK,WAAW,MAAO,KAElEC,EAHgB,+CAGuCH,EAHvC,iCAKIX,MAAMc,GALV,cAKhBC,EALgB,gBAOIA,EAAYT,OAPhB,mBAOdU,EAPc,EAOdA,QAPc,EAUpBA,EAAQC,MAAK,YAAgD,IAA7CC,EAA4C,EAA5CA,UAAWC,EAAiC,EAAjCA,WAAYC,EAAqB,EAArBA,eACrC,OACED,EAAWE,gBAAkBZ,EAAOY,eACpCD,EAAeC,gBAAkBb,EAAMa,eACvCH,EAAUG,gBAAkBX,EAAMW,kBAEhCL,EAAQ,IAAM,KAPdM,EATc,EASdA,eATc,0CAiBIA,EAAcC,QAAQ,UAAW,YAjBrC,4CAAH,sDAoBNhB,IChBAiB,EAFIC,0B,eCGJ,SAASC,EAAT,GAA0D,IAAlCC,EAAiC,EAAjCA,cAAeC,EAAkB,EAAlBA,eAC5CC,EAAgBC,qBAAWN,GAA3BK,YAER,OACE,yBACEE,KAAK,SACLC,QAASH,EAAcF,EAAgBC,EACvCK,UAAS,wBAAmBJ,EAAc,eAAgB,IAH5D,UAKE,qBAAKI,UAAU,gBAAf,SACE,qBAAKC,ICfE,ymTDemBC,IAAI,kBAEhC,qBAAKC,MAAM,SACX,qBAAKA,MAAM,SACX,qBAAKA,MAAM,Y,YEfF,SAASC,IACtB,IAAQC,EAAmBR,qBAAWN,GAA9Bc,eACR,OACE,sBAAKL,UAAU,kBAAf,UACGK,EAAeC,SACd,qBACEN,UAAU,eACVC,IAAKI,EAAeC,QACpBJ,IAAI,qBAGR,sBAAKF,UAAU,oBAAf,UACE,oBAAIA,UAAU,aAAd,SAA4BK,EAAe5B,QAC3C,mBAAGuB,UAAU,cAAb,SAA4BK,EAAe7B,SAC3C,mBAAGwB,UAAU,aAAb,SAA2BK,EAAe9B,c,MCdnC,SAASgC,EAAT,GAAoC,IAAXC,EAAU,EAAVA,OAC9BZ,EAAgBC,qBAAWN,GAA3BK,YACFa,EAAYC,iBAAOd,GAYnBe,EAAgB,SAACH,GACrB,IAAMI,EAAe,IAAIC,aACnBC,EAAWF,EAAaG,iBACfH,EAAaI,wBAAwBR,GAC7CS,QAAQH,GACfA,EAASI,sBAAwB,IACjCJ,EAASK,QAAU,GAhBE,SAACL,GACtB,IAAMM,EAAgB,IAAIC,WAAWP,EAASQ,mBAM9CC,uBALoB,SAAdC,IACJV,EAASW,qBAAqBL,GAC9BM,EAAaN,GACTX,EAAUkB,SAASJ,sBAAsBC,MAY/CI,CAAed,IAGjBe,qBAAU,WACJjC,GACFe,EAAcH,GAEdC,EAAUkB,SAAU,GAEpBlB,EAAUkB,SAAU,IAErB,CAAC/B,IAEJ,IAAM8B,EAAe,SAACI,GAqCpB,IApCA,IAAMC,EAASC,OAAOD,OAAOD,GACvBG,EAAe,CACnB,EAAE,GACF,EAAE,GACF,EAAE,GACF,EAAE,GACF,EAAE,GACF,EAAE,GACF,EAAE,GACF,EAAE,GACF,EAAE,GACF,EAAE,GACF,GAAG,GACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,GACH,GAAG,GACH,GAAG,GACH,GAAG,GACH,GAAG,GACH,GAAG,GACH,GAAG,GACH,GAAG,GACH,GAAG,GACH,GAAG,GACH,GAAG,IAECC,EAAgBC,SAASC,iBAAiB,SACvCC,EAAI,EAAGA,EAAI,KAAMA,EAAG,CAC3B,IAAMC,EAAQP,EAAOE,EAAaI,IAAM,IACxCH,EAAcG,GAAGE,MAAMC,UAAvB,kBAA8CF,EAA9C,MACAJ,EAAcG,GAAGE,MAAME,QAAUC,KAAKC,IAAI,IAAML,KAIpD,OACE,qBAAKtC,UAAU,aAAf,SACG,IAAI4C,MAAM,IAAIC,OAAOC,KAAI,kBACxB,qBAAK9C,UAAS,eAAUJ,EAAc,cAAgB,WC1E9D,IAAMmD,EAAc,IAAIC,IAAY,CAAEC,QAAS,MAsFhCC,MApFf,WACE,MASIrD,qBAAWN,GARbK,EADF,EACEA,YACAuD,EAFF,EAEEA,eACAC,EAHF,EAGEA,kBACA/C,EAJF,EAIEA,eACAgD,EALF,EAKEA,MACAC,EANF,EAMEA,SACAC,EAPF,EAOEA,WACAC,EARF,EAQEA,cAEF,EAA4BC,qBAA5B,mBAAOjD,EAAP,KAAekD,EAAf,KAEMC,EAAa,uCAAG,WAAOjG,GAAP,qBAAAC,EAAA,sEACgCF,EAAaC,GAD7C,mBACZoE,EADY,EACZA,KAAkB8B,EADN,EACNL,WACdC,EAAcI,IACVA,EAHgB,oBAIlBR,EAAkBtB,GACbA,EAAKxB,QALQ,kCAMMhC,EAAgBwD,GANtB,QAMVxB,EANU,OAOhB8C,EAAkB,2BAAKtB,GAAN,IAAYxB,aAPb,4CAAH,sDAYnBuB,qBAAU,WACR,IAAIgC,EAOJ,OANIjE,GAAeyD,EAAQ,KACzBQ,EAAQC,aAAY,WAClBR,EAASD,EAAQ,KAChB,MAEDzD,GAAeyD,GAAS,IAAI3D,IACzB,kBAAMqE,cAAcF,MAC1B,CAACR,IAEJ,IAcM3D,EAAgB,WACpByD,GAAe,GACfJ,EAAYiB,OACTC,SACAC,MAAK,YAAqB,IAAD,mBAAVC,GAAU,WAClBzG,EAAO,IAAI0G,KAAK,CAACD,GAAO,WAAY,CACxCrE,KAAMqE,EAAKrE,OAETpC,GAAMiG,EAAcjG,GACxB,IAAM2G,EAAQtB,EAAYuB,aAAaC,YAAY,GACnDF,EAAML,OACNjB,EAAYuB,aAAaE,YAAYH,MAEtCI,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OAG9B,OACE,sBAAK1E,UAAU,MAAf,UACE,sBAAKA,UAAS,+BAA0BuD,GAAclD,EAAiB,aAAe,IAAtF,UACE,cAAC,EAAD,CACEX,cAAeA,EACfC,eAnCe,WACrBkF,UAAUC,aACPC,aAAa,CAAEC,OAAO,EAAMC,OAAO,IACnCf,MAAK,WACJnB,EAAYmC,QACThB,MAAK,SAAC1D,GACLkD,EAAUlD,GACV2C,GAAe,GACfG,EAAS,MAEVmB,MAAME,QAAQQ,aA2BjB,cAAC5E,EAAD,CAAeC,OAAQA,IACvB,sBAAKR,UAAU,QAAf,UACGJ,GAAe,gBACC,IAAf2D,IAAyB3D,GAAgB,6DAG9C2D,GAAclD,GAAkB,cAAC,EAAD,QChFxB+E,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBpB,MAAK,YAAkD,IAA/CqB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCJC,SAASO,EAAT,GAAiC,IAAbC,EAAY,EAAZA,SAUjC,EAAsCpC,oBAAS,GAA/C,mBAAO7D,EAAP,KAAoBuD,EAApB,KACA,EAA4CM,qBAA5C,mBAAOpD,EAAP,KAAuB+C,EAAvB,KACA,EAA0BK,mBAAS,GAAnC,mBAAOJ,EAAP,KAAcC,EAAd,KACA,EAAoCG,qBAApC,mBAEMqC,EAAgB,CACpBlG,cACAuD,iBACA9C,iBACA+C,oBACAC,QACAC,WACAC,WATF,KAUEC,cAVF,MAYA,OACE,cAAC,EAAWoC,SAAZ,CAAqBtD,MAAOwD,EAA5B,SAA4CD,ICtBhDE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACL,EAAD,UACE,cAAC,EAAD,QAGJzD,SAAS+D,eAAe,SAM1Bd,M","file":"static/js/main.9ff85429.chunk.js","sourcesContent":["\nconst identifySong = async (file) => {\n  const form = new FormData();\n  form.append(\"file\", file, \"file.mp3\");\n\n  const response = await fetch(\"https://music-identify.p.rapidapi.com/identify\", {\n    method: \"POST\",\n    headers: {\n      \"x-rapidapi-host\": \"music-identify.p.rapidapi.com\",\n      \"x-rapidapi-key\": process.env.REACT_APP_APIKEY,\n    },\n    body: form,\n  })\n  const json = await response.json();\n  return json;\n};\n\nexport default identifySong;","const iTunesSearchApi = async ({ album, artist, title }) => {\n  const song = encodeURI(`${title} ${artist} ${album}`).replaceAll(\"%20\", \"+\");\n\n  const getAlbumsAPI = `https://itunes.apple.com/search?term=${song}&types=songs&limit=6`;\n\n  const APIResponse = await fetch(getAlbumsAPI);\n\n  const { results } = await APIResponse.json();\n\n  const { artworkUrl100 } =\n    results.find(({ trackName, artistName, collectionName }) => {\n      return (\n        artistName.toLowerCase() === artist.toLowerCase() &&\n        collectionName.toLowerCase() === album.toLowerCase() &&\n        trackName.toLowerCase() === title.toLowerCase()\n      );\n    }) || results[0] || {};\n  if (artworkUrl100) return artworkUrl100.replace('100x100', '300x300');\n};\n\nexport default iTunesSearchApi;\n","import {createContext } from 'react';\n\nconst AppContext = createContext();\n\nexport default AppContext;","import React, { useContext } from \"react\";\nimport AppContext from \"../context/AppContext\";\nimport microphoneIcon from \"../images/microphone2.png\";\nimport '../styles/RecordButton.css';\n\nexport default function RecordButton({ stopRecording, startRecording }) {\n  const { isRecording } = useContext(AppContext);\n\n  return (\n    <button\n      type=\"button\"\n      onClick={isRecording ? stopRecording : startRecording}\n      className={`record-button ${isRecording ? 'is-recording': ''}`}\n    >\n      <div className=\"card__content\">\n        <img src={microphoneIcon} alt=\"Identificar\" />\n      </div>\n      <div class=\"blob\"></div>\n      <div class=\"blob\"></div>\n      <div class=\"blob\"></div>\n    </button>\n  );\n}\n","export default \"data:image/png;base64,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\"","import React, { useContext } from \"react\";\nimport AppContext from \"../context/AppContext\";\nimport \"../styles/IdentifiedSongCard.css\";\n\nexport default function IdentifiedSongCard() {\n  const { identifiedSong } = useContext(AppContext);\n  return (\n    <div className=\"identified-song\">\n      {identifiedSong.artwork && (\n        <img\n          className=\"song-artwork\"\n          src={identifiedSong.artwork}\n          alt=\"Capa do álbum\"\n        />\n      )}\n      <div className=\"song-info-wrapper\">\n        <h2 className=\"song-title\">{identifiedSong.title}</h2>\n        <p className=\"song-artist\">{identifiedSong.artist}</p>\n        <p className=\"song-album\">{identifiedSong.album}</p>\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useContext, useRef } from \"react\";\nimport AppContext from \"../context/AppContext\";\nimport \"../styles/MicVizualizer.css\";\n\nexport default function MicVisualizer({ stream }) {\n  const { isRecording } = useContext(AppContext);\n  const recording = useRef(isRecording);\n\n  const initRenderLoop = (analyser) => {\n    const frequencyData = new Uint8Array(analyser.frequencyBinCount);\n    const renderFrame = () => {\n      analyser.getByteFrequencyData(frequencyData);\n      processFrame(frequencyData);\n      if (recording.current) requestAnimationFrame(renderFrame);\n    };\n    requestAnimationFrame(renderFrame);\n  };\n\n  const connectStream = (stream) => {\n    const audioContext = new AudioContext();\n    const analyser = audioContext.createAnalyser();\n    const source = audioContext.createMediaStreamSource(stream);\n    source.connect(analyser);\n    analyser.smoothingTimeConstant = 0.65;\n    analyser.fftSize = 64;\n    initRenderLoop(analyser);\n  };\n\n  useEffect(() => {\n    if (isRecording) {\n      connectStream(stream);\n\n      recording.current = true;\n    } else {\n      recording.current = false;\n    }\n  }, [isRecording]);\n\n  const processFrame = (data) => {\n    const values = Object.values(data);\n    const dataMapIndex = {\n      0:31,\n      1:29,\n      2:27,\n      3:25,\n      4:23,\n      5:21,\n      6:19,\n      7:17,\n      8:15,\n      9:13,\n      10:11,\n      11:9,\n      12:7,\n      13:5,\n      14:3,\n      15:1,\n      16:0,\n      17:2,\n      18:4,\n      19:6,\n      20:8,\n      21:10,\n      22:12,\n      23:14,\n      24:16,\n      25:18,\n      26:20,\n      27:22,\n      28:24,\n      29:26,\n      30:28,\n      31:30,\n    };\n    const linesElements = document.querySelectorAll(\".line\");\n    for (let i = 0; i < 32; ++i) {\n      const value = values[dataMapIndex[i]] / 160;\n      linesElements[i].style.transform = `scaleY( ${value} )`;\n      linesElements[i].style.opacity = Math.max(0.25, value);\n    }\n  };\n\n  return (\n    <div className=\"vizualizer\">\n      {new Array(32).fill().map(() => (\n        <div className={`line ${isRecording ? 'isRecording' : ''}`}></div>\n      ))}\n    </div>\n  );\n}\n","import { useEffect, useContext, useState } from \"react\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport identifySong from \"./services/identifySongApi\";\nimport iTunesSearchApi from \"./services/iTunesSearchApi\";\nimport AppContext from \"./context/AppContext\";\nimport RecordButton from \"./components/RecordButton\";\n\nimport \"./App.css\";\nimport IdentifiedSongCard from \"./components/IdentifiedSongCard\";\nimport MicVisualizer from \"./components/MicVisualizer\";\n\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\n\nfunction App() {\n  const {\n    isRecording,\n    setIsRecording,\n    setIdentifiedSong,\n    identifiedSong,\n    count,\n    setCount,\n    identified,\n    setIdentified,\n  } = useContext(AppContext);\n  const [stream, setStream] = useState()\n\n  const recognizeSong = async (file) => {\n    const { data, identified: indentifiedBool } = await identifySong(file);\n    setIdentified(indentifiedBool);\n    if (indentifiedBool) {\n      setIdentifiedSong(data);\n      if (!data.artwork) {\n        const artwork = await iTunesSearchApi(data);\n        setIdentifiedSong({ ...data, artwork });\n      }\n    }\n  };\n\n  useEffect(() => {\n    let timer;\n    if (isRecording && count < 10) {\n      timer = setInterval(() => {\n        setCount(count + 1);\n      }, 1000);\n    }\n    if (isRecording && count >= 10) stopRecording();\n    return () => clearInterval(timer);\n  }, [count]);\n\n  const startRecording = () => {\n    navigator.mediaDevices\n      .getUserMedia({ audio: true, video: false })\n      .then(() => {\n        Mp3Recorder.start()\n          .then((stream) => {\n            setStream(stream);\n            setIsRecording(true);\n            setCount(1);\n          })\n          .catch(console.error);\n      });\n  };\n\n  const stopRecording = () => {\n    setIsRecording(false);\n    Mp3Recorder.stop()\n      .getMp3()\n      .then(([buffer, blob]) => {\n        const file = new File([blob], \"file.mp3\", {\n          type: blob.type,\n        });\n        if (file) recognizeSong(file);\n        const track = Mp3Recorder.activeStream.getTracks()[0];\n        track.stop();\n        Mp3Recorder.activeStream.removeTrack(track);\n      })\n      .catch((e) => console.log(e));\n  };\n\n  return (\n    <div className=\"App\">\n      <div className={`microphone-container ${identified && identifiedSong ? \"identified\" : ''}`}>\n        <RecordButton\n          stopRecording={stopRecording}\n          startRecording={startRecording}\n        />\n        <MicVisualizer stream={stream} />\n        <div className=\"state\">\n          {isRecording && \"Escutando...\"}\n          {(identified === false && !isRecording) && \"Não foi possível identificar essa música :/\"}    \n        </div>\n      </div>\n      {identified && identifiedSong && <IdentifiedSongCard />}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { useState } from \"react\";\nimport AppContext from \"./AppContext\";\n\nexport default function Provider({ children }) {\n  const identifiedSongMock = {\n    album: \"Midnight Room\",\n    artist: \"Springtime Carnivore\",\n    genre: \"Alternative\",\n    release_year: \"2016\",\n    title: \"Bad Dream Baby\",\n    artwork: \"https://i.scdn.co/image/ab67616d0000b2733525ba2609c82b320a811ce9\"\n  }\n\n  const [isRecording, setIsRecording] = useState(false);\n  const [identifiedSong, setIdentifiedSong] = useState();\n  const [count, setCount] = useState(0);\n  const [identified, setIdentified] = useState()\n\n  const contextValues = {\n    isRecording,\n    setIsRecording,\n    identifiedSong,\n    setIdentifiedSong,\n    count,\n    setCount,\n    identified,\n    setIdentified,\n  };\n  return (\n    <AppContext.Provider value={contextValues}>{children}</AppContext.Provider>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport Provider from \"./context/Provider\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}